{"ast":null,"code":"import _slicedToArray from\"C:/Nina/Projects/Pro/borne-interactive/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useLocation}from'react-router-dom';import{GlobalContext}from'../App.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PaiementStatus(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var _useContext=useContext(GlobalContext),cartStore=_useContext.cartStore;var location=useLocation();var propsFromPreviousPage=location.state;var paymentSuccess=propsFromPreviousPage.success?propsFromPreviousPage.success:true;var textSuccess=propsFromPreviousPage.textSuccess;var textRefused=propsFromPreviousPage.textRefused;var discountValue=propsFromPreviousPage.discount;useEffect(function(){// Délai de 3 secondes avant de déclencher la redirection\nvar timer=setTimeout(function(){setRedirect(true);cartStore.applyDiscount(discountValue);},3000);return function(){return clearTimeout(timer);};},[]);if(redirect){navigate('/PaiementStatus',{state:{payement:false}});}var bgColor=paymentSuccess===true?'bg-valid-color':'bg-error-color';return/*#__PURE__*/_jsx(\"main\",{className:\"paiement-section justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center w-2/5 \".concat(bgColor,\" lg:h-2/5 gap-y-12\"),children:[paymentSuccess?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-check\",className:\"paiement-icon text-light-color\"}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-xmark\",className:\"paiement-icon text-light-color\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"italic text-5xl text-center\",children:paymentSuccess?textSuccess:textRefused})]})});}export default PaiementStatus;","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","FontAwesomeIcon","useLocation","GlobalContext","jsx","_jsx","jsxs","_jsxs","PaiementStatus","navigate","_useState","_useState2","_slicedToArray","redirect","setRedirect","_useContext","cartStore","location","propsFromPreviousPage","state","paymentSuccess","success","textSuccess","textRefused","discountValue","discount","timer","setTimeout","applyDiscount","clearTimeout","payement","bgColor","className","children","concat","icon"],"sources":["C:/Nina/Projects/Pro/borne-interactive/src/pages/PaiementStatus.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useLocation } from 'react-router-dom';\nimport { GlobalContext } from '../App.jsx';\n\nfunction PaiementStatus() {\n\n    const navigate = useNavigate();\n    const [redirect, setRedirect] = useState(false);\n    const { cartStore } = useContext(GlobalContext);\n    \n    const location = useLocation();\n    const propsFromPreviousPage = location.state;\n  \n    const paymentSuccess = propsFromPreviousPage.success ? propsFromPreviousPage.success : true;\n    const textSuccess = propsFromPreviousPage.textSuccess;\n    const textRefused = propsFromPreviousPage.textRefused;\n    const discountValue = propsFromPreviousPage.discount;\n\n    useEffect(() => {\n        // Délai de 3 secondes avant de déclencher la redirection\n        const timer = setTimeout(() => {\n            setRedirect(true);\n            cartStore.applyDiscount(discountValue);\n        }, 3000);\n\n        return () => clearTimeout(timer);\n    }, []);\n\n    if (redirect) {\n        navigate('/PaiementStatus', {\n            state: {\n                payement: false\n            }\n        });\n    }\n\n    const bgColor = paymentSuccess === true ? 'bg-valid-color' : 'bg-error-color'\n\n    return (\n        <main className='paiement-section justify-center items-center'>\n            <div className={`flex flex-col justify-center items-center w-2/5 ${bgColor} lg:h-2/5 gap-y-12`}>\n                {paymentSuccess ? <FontAwesomeIcon icon=\"fa-solid fa-check\" className='paiement-icon text-light-color' /> : <FontAwesomeIcon icon=\"fa-solid fa-xmark\" className='paiement-icon text-light-color' />}\n                <h2 className='italic text-5xl text-center'>{paymentSuccess ? textSuccess : textRefused}</h2>\n            </div>\n        </main> \n    )\n}\nexport default PaiementStatus;"],"mappings":"4HAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,aAAa,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,cAAcA,CAAA,CAAG,CAEtB,GAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,IAAAU,SAAA,CAAgCX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,WAAA,CAAsBlB,UAAU,CAACM,aAAa,CAAC,CAAvCa,SAAS,CAAAD,WAAA,CAATC,SAAS,CAEjB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAgB,qBAAqB,CAAGD,QAAQ,CAACE,KAAK,CAE5C,GAAM,CAAAC,cAAc,CAAGF,qBAAqB,CAACG,OAAO,CAAGH,qBAAqB,CAACG,OAAO,CAAG,IAAI,CAC3F,GAAM,CAAAC,WAAW,CAAGJ,qBAAqB,CAACI,WAAW,CACrD,GAAM,CAAAC,WAAW,CAAGL,qBAAqB,CAACK,WAAW,CACrD,GAAM,CAAAC,aAAa,CAAGN,qBAAqB,CAACO,QAAQ,CAEpD3B,SAAS,CAAC,UAAM,CACZ;AACA,GAAM,CAAA4B,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC3Bb,WAAW,CAAC,IAAI,CAAC,CACjBE,SAAS,CAACY,aAAa,CAACJ,aAAa,CAAC,CAC1C,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,kBAAM,CAAAK,YAAY,CAACH,KAAK,CAAC,GACpC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIb,QAAQ,CAAE,CACVJ,QAAQ,CAAC,iBAAiB,CAAE,CACxBU,KAAK,CAAE,CACHW,QAAQ,CAAE,KACd,CACJ,CAAC,CAAC,CACN,CAEA,GAAM,CAAAC,OAAO,CAAGX,cAAc,GAAK,IAAI,CAAG,gBAAgB,CAAG,gBAAgB,CAE7E,mBACIf,IAAA,SAAM2B,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC1D1B,KAAA,QAAKyB,SAAS,oDAAAE,MAAA,CAAqDH,OAAO,sBAAqB,CAAAE,QAAA,EAC1Fb,cAAc,cAAGf,IAAA,CAACJ,eAAe,EAACkC,IAAI,CAAC,mBAAmB,CAACH,SAAS,CAAC,gCAAgC,CAAE,CAAC,cAAG3B,IAAA,CAACJ,eAAe,EAACkC,IAAI,CAAC,mBAAmB,CAACH,SAAS,CAAC,gCAAgC,CAAE,CAAC,cACnM3B,IAAA,OAAI2B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEb,cAAc,CAAGE,WAAW,CAAGC,WAAW,CAAK,CAAC,EAC5F,CAAC,CACJ,CAAC,CAEf,CACA,cAAe,CAAAf,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}