{"ast":null,"code":"import React, { createContext, useReducer, useContext, useEffect } from 'react';\nimport { makeAutoObservable } from \"mobx\";\nclass CartStore {\n  // Tableau pour stocker les articles du panier\n\n  constructor() {\n    this.cart = [];\n    makeAutoObservable(this);\n  }\n  addToCart(article) {\n    const currentArticle = this.existInCart(article.id);\n    if (currentArticle) {\n      // Si l'article existe déjà dans le panier, on augmente sa quantité\n      currentArticle.quantity += 1;\n    } else {\n      // Sinon on l'ajoute avec une quantité de 1\n      this.cart.push({\n        ...article,\n        quantity: 1\n      });\n    }\n  }\n  removeFromCart(article) {\n    const currentArticle = this.existInCart(article.id);\n    if (currentArticle) {\n      // Si l'article existe déjà dans le panier, on augmente sa quantité\n      currentArticle.quantity -= 1;\n      const index = this.cart.findIndex(item => item.id === article.Id);\n      this.cart.splice(index, 1);\n    }\n  }\n  updateCartItemQuantity(articleId, newQuantity) {\n    // Recherchez l'article dans le panier\n    const cartItem = this.cart.find(item => item.id === articleId);\n    if (cartItem) {\n      // Mettez à jour la quantité de l'article dans le panier\n      cartItem.quantity = newQuantity;\n    }\n  }\n  existInCart(articleId) {\n    // Vérifiez si l'article est déjà dans le panier\n    const currentArticle = this.cart.find(item => item.id === articleId);\n    if (currentArticle) {\n      return currentArticle;\n    } else {\n      return false;\n    }\n  }\n  getQuantity(productId) {\n    // Votre logique pour obtenir la quantité d'un produit dans le panier\n    // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\n    return this.cart.reduce((count, item) => {\n      if (item.productId === productId) {\n        return count + 1;\n      }\n      return count;\n    }, 0);\n  }\n}\nexport default CartStore;","map":{"version":3,"names":["React","createContext","useReducer","useContext","useEffect","makeAutoObservable","CartStore","constructor","cart","addToCart","article","currentArticle","existInCart","id","quantity","push","removeFromCart","index","findIndex","item","Id","splice","updateCartItemQuantity","articleId","newQuantity","cartItem","find","getQuantity","productId","reduce","count"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/store/CartStore.js"],"sourcesContent":["import React, {\r\n    createContext,\r\n    useReducer,\r\n    useContext,\r\n    useEffect\r\n} from 'react';\r\nimport {\r\n    makeAutoObservable\r\n} from \"mobx\";\r\n\r\nclass CartStore {\r\n    cart = []; // Tableau pour stocker les articles du panier\r\n\r\n    constructor() {\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    addToCart(article) {\r\n        const currentArticle = this.existInCart(article.id);\r\n\r\n        if (currentArticle) {\r\n            // Si l'article existe déjà dans le panier, on augmente sa quantité\r\n            currentArticle.quantity += 1;\r\n        } else {\r\n            // Sinon on l'ajoute avec une quantité de 1\r\n            this.cart.push({\r\n                ...article,\r\n                quantity: 1\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    removeFromCart(article) {\r\n\r\n        const currentArticle = this.existInCart(article.id);\r\n\r\n        if (currentArticle) {\r\n            // Si l'article existe déjà dans le panier, on augmente sa quantité\r\n            currentArticle.quantity -= 1;\r\n            const index = this.cart.findIndex((item) => item.id === article.Id);\r\n            this.cart.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    updateCartItemQuantity(articleId, newQuantity) {\r\n        // Recherchez l'article dans le panier\r\n        const cartItem = this.cart.find((item) => item.id === articleId);\r\n    \r\n        if (cartItem) {\r\n          // Mettez à jour la quantité de l'article dans le panier\r\n          cartItem.quantity = newQuantity;\r\n        }\r\n      }\r\n\r\n    existInCart(articleId) {\r\n        // Vérifiez si l'article est déjà dans le panier\r\n        const currentArticle = this.cart.find((item) => item.id === articleId);\r\n        if (currentArticle) {\r\n            return currentArticle;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getQuantity(productId) {\r\n        // Votre logique pour obtenir la quantité d'un produit dans le panier\r\n        // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\r\n        return this.cart.reduce((count, item) => {\r\n            if (item.productId === productId) {\r\n                return count + 1;\r\n            }\r\n            return count;\r\n        }, 0);\r\n    }\r\n}\r\n\r\nexport default CartStore;"],"mappings":"AAAA,OAAOA,KAAK,IACRC,aAAa,EACbC,UAAU,EACVC,UAAU,EACVC,SAAS,QACN,OAAO;AACd,SACIC,kBAAkB,QACf,MAAM;AAEb,MAAMC,SAAS,CAAC;EACD;;EAEXC,WAAWA,CAAA,EAAG;IAAA,KAFdC,IAAI,GAAG,EAAE;IAGLH,kBAAkB,CAAC,IAAI,CAAC;EAC5B;EAEAI,SAASA,CAACC,OAAO,EAAE;IACf,MAAMC,cAAc,GAAG,IAAI,CAACC,WAAW,CAACF,OAAO,CAACG,EAAE,CAAC;IAEnD,IAAIF,cAAc,EAAE;MAChB;MACAA,cAAc,CAACG,QAAQ,IAAI,CAAC;IAChC,CAAC,MAAM;MACH;MACA,IAAI,CAACN,IAAI,CAACO,IAAI,CAAC;QACX,GAAGL,OAAO;QACVI,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;EACJ;EAGAE,cAAcA,CAACN,OAAO,EAAE;IAEpB,MAAMC,cAAc,GAAG,IAAI,CAACC,WAAW,CAACF,OAAO,CAACG,EAAE,CAAC;IAEnD,IAAIF,cAAc,EAAE;MAChB;MACAA,cAAc,CAACG,QAAQ,IAAI,CAAC;MAC5B,MAAMG,KAAK,GAAG,IAAI,CAACT,IAAI,CAACU,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKH,OAAO,CAACU,EAAE,CAAC;MACnE,IAAI,CAACZ,IAAI,CAACa,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;IAC9B;EACJ;EAEAK,sBAAsBA,CAACC,SAAS,EAAEC,WAAW,EAAE;IAC3C;IACA,MAAMC,QAAQ,GAAG,IAAI,CAACjB,IAAI,CAACkB,IAAI,CAAEP,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKU,SAAS,CAAC;IAEhE,IAAIE,QAAQ,EAAE;MACZ;MACAA,QAAQ,CAACX,QAAQ,GAAGU,WAAW;IACjC;EACF;EAEFZ,WAAWA,CAACW,SAAS,EAAE;IACnB;IACA,MAAMZ,cAAc,GAAG,IAAI,CAACH,IAAI,CAACkB,IAAI,CAAEP,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKU,SAAS,CAAC;IACtE,IAAIZ,cAAc,EAAE;MAChB,OAAOA,cAAc;IACzB,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ;EAEAgB,WAAWA,CAACC,SAAS,EAAE;IACnB;IACA;IACA,OAAO,IAAI,CAACpB,IAAI,CAACqB,MAAM,CAAC,CAACC,KAAK,EAAEX,IAAI,KAAK;MACrC,IAAIA,IAAI,CAACS,SAAS,KAAKA,SAAS,EAAE;QAC9B,OAAOE,KAAK,GAAG,CAAC;MACpB;MACA,OAAOA,KAAK;IAChB,CAAC,EAAE,CAAC,CAAC;EACT;AACJ;AAEA,eAAexB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}