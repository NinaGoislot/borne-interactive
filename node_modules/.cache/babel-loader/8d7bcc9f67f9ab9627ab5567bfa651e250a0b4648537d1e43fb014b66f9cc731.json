{"ast":null,"code":"import React, { createContext, useReducer, useContext, useEffect } from 'react';\nimport { makeAutoObservable } from \"mobx\";\nclass CartStore {\n  // Tableau pour stocker les articles du panier\n\n  constructor() {\n    this.cart = [];\n    makeAutoObservable(this);\n  }\n  addToCart(article) {\n    // Vérifiez d'abord si l'article est déjà dans le panier\n    const existingCartItem = this.cart.find(item => item.id === article.id);\n    if (existingCartItem) {\n      // Si l'article existe déjà dans le panier, on augmente sa quantité\n      existingCartItem.quantity += 1;\n    } else {\n      // Sinon on l'ajoute avec une quantité de 1\n      this.cart.push({\n        ...article,\n        quantity: 1\n      });\n    }\n  }\n  removeFromCart(productId) {\n    // Votre logique pour retirer un produit du panier\n    // Par exemple, vous pouvez utiliser filter pour supprimer l'article\n    this.cart = this.cart.filter(item => item.productId !== productId);\n\n    // Recherchez l'index de l'article à supprimer dans le panier\n    const index = this.cart.findIndex(item => item.id === articleId);\n    if (index !== -1) {\n      // Si l'article existe dans le panier, supprimez-le\n      this.cart.splice(index, 1);\n    }\n  }\n  getQuantity(productId) {\n    // Votre logique pour obtenir la quantité d'un produit dans le panier\n    // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\n    return this.cart.reduce((count, item) => {\n      if (item.productId === productId) {\n        return count + 1;\n      }\n      return count;\n    }, 0);\n  }\n\n  // D'autres méthodes ou propriétés du panier si nécessaire\n}\n\nconst cartStore = new CartStore();\nexport default cartStore;","map":{"version":3,"names":["React","createContext","useReducer","useContext","useEffect","makeAutoObservable","CartStore","constructor","cart","addToCart","article","existingCartItem","find","item","id","quantity","push","removeFromCart","productId","filter","index","findIndex","articleId","splice","getQuantity","reduce","count","cartStore"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/store/CartStore.js"],"sourcesContent":["import React, { createContext, useReducer, useContext, useEffect } from 'react';\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nclass CartStore {\r\n  cart = []; // Tableau pour stocker les articles du panier\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  addToCart(article) {\r\n      // Vérifiez d'abord si l'article est déjà dans le panier\r\n      const existingCartItem = this.cart.find((item) => item.id === article.id);\r\n\r\n      if (existingCartItem) {\r\n        // Si l'article existe déjà dans le panier, on augmente sa quantité\r\n        existingCartItem.quantity += 1;\r\n      } else {\r\n        // Sinon on l'ajoute avec une quantité de 1\r\n        this.cart.push({ ...article, quantity: 1 });\r\n      }\r\n  }\r\n\r\n  \r\n  removeFromCart(productId) {\r\n    // Votre logique pour retirer un produit du panier\r\n    // Par exemple, vous pouvez utiliser filter pour supprimer l'article\r\n    this.cart = this.cart.filter(item => item.productId !== productId);\r\n\r\n\r\n      // Recherchez l'index de l'article à supprimer dans le panier\r\n      const index = this.cart.findIndex((item) => item.id === articleId);\r\n\r\n      if (index !== -1) {\r\n        // Si l'article existe dans le panier, supprimez-le\r\n        this.cart.splice(index, 1);\r\n      }\r\n  }\r\n\r\n  getQuantity(productId) {\r\n    // Votre logique pour obtenir la quantité d'un produit dans le panier\r\n    // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\r\n    return this.cart.reduce((count, item) => {\r\n      if (item.productId === productId) {\r\n        return count + 1;\r\n      }\r\n      return count;\r\n    }, 0);\r\n  }\r\n\r\n  // D'autres méthodes ou propriétés du panier si nécessaire\r\n}\r\n\r\nconst cartStore = new CartStore();\r\n\r\nexport default cartStore;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC/E,SAASC,kBAAkB,QAAQ,MAAM;AAEzC,MAAMC,SAAS,CAAC;EACH;;EAEXC,WAAWA,CAAA,EAAG;IAAA,KAFdC,IAAI,GAAG,EAAE;IAGPH,kBAAkB,CAAC,IAAI,CAAC;EAC1B;EAEAI,SAASA,CAACC,OAAO,EAAE;IACf;IACA,MAAMC,gBAAgB,GAAG,IAAI,CAACH,IAAI,CAACI,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IAEzE,IAAIH,gBAAgB,EAAE;MACpB;MACAA,gBAAgB,CAACI,QAAQ,IAAI,CAAC;IAChC,CAAC,MAAM;MACL;MACA,IAAI,CAACP,IAAI,CAACQ,IAAI,CAAC;QAAE,GAAGN,OAAO;QAAEK,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC7C;EACJ;EAGAE,cAAcA,CAACC,SAAS,EAAE;IACxB;IACA;IACA,IAAI,CAACV,IAAI,GAAG,IAAI,CAACA,IAAI,CAACW,MAAM,CAACN,IAAI,IAAIA,IAAI,CAACK,SAAS,KAAKA,SAAS,CAAC;;IAGhE;IACA,MAAME,KAAK,GAAG,IAAI,CAACZ,IAAI,CAACa,SAAS,CAAER,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKQ,SAAS,CAAC;IAElE,IAAIF,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB;MACA,IAAI,CAACZ,IAAI,CAACe,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;IAC5B;EACJ;EAEAI,WAAWA,CAACN,SAAS,EAAE;IACrB;IACA;IACA,OAAO,IAAI,CAACV,IAAI,CAACiB,MAAM,CAAC,CAACC,KAAK,EAAEb,IAAI,KAAK;MACvC,IAAIA,IAAI,CAACK,SAAS,KAAKA,SAAS,EAAE;QAChC,OAAOQ,KAAK,GAAG,CAAC;MAClB;MACA,OAAOA,KAAK;IACd,CAAC,EAAE,CAAC,CAAC;EACP;;EAEA;AACF;;AAEA,MAAMC,SAAS,GAAG,IAAIrB,SAAS,CAAC,CAAC;AAEjC,eAAeqB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}