{"ast":null,"code":"import { makeAutoObservable, runInAction } from \"mobx\";\nimport Article from \"./Article\";\nclass ArticleStore {\n  // Attributs\n\n  // Constructeur\n  constructor() {\n    this.getData = () => {\n      fetch('data.json', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(function (response) {\n        console.log(response);\n        return response.json();\n      }).then(function (myJson) {\n        console.log(myJson);\n      });\n    };\n    this._articles = [];\n    makeAutoObservable(this);\n    this.loadArticles();\n  }\n\n  // Accesseur en lecture\n  get articles() {\n    return this._articles;\n  }\n\n  // Accesseur en écriture\n  set articles(articles) {\n    this._articles = articles;\n  }\n\n  // Méthodes\n  async loadArticles() {\n    const listArticles = await fetch(\"../data.json\").then(res => res.json());\n    this._articles = listArticles.map(article => new Article(article.id, article.titre, article.disponibilite, article.image, article.keyword, article.prix, article.coupons, article.priceAfterCoupons));\n    console.log(listArticles);\n  }\n  getArticleById(id) {\n    return this._articles.find(article => article.id === id);\n  }\n  getArticleByCategory(category) {\n    return this._articles.filter(article => article.keyword === category);\n  }\n}\nexport default ArticleStore;","map":{"version":3,"names":["makeAutoObservable","runInAction","Article","ArticleStore","constructor","getData","fetch","headers","then","response","console","log","json","myJson","_articles","loadArticles","articles","listArticles","res","map","article","id","titre","disponibilite","image","keyword","prix","coupons","priceAfterCoupons","getArticleById","find","getArticleByCategory","category","filter"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/store/ArticleStore.js"],"sourcesContent":["import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport Article from \"./Article\";\r\n\r\nclass ArticleStore {\r\n\r\n\r\n    // Attributs\r\n    _articles;\r\n\r\n    // Constructeur\r\n    constructor() {\r\n        this._articles = [];\r\n\r\n        makeAutoObservable(this);\r\n        this.loadArticles();\r\n    }\r\n\r\n    // Accesseur en lecture\r\n    get articles() {\r\n        return this._articles;\r\n    }\r\n\r\n    // Accesseur en écriture\r\n    set articles(articles) {\r\n        this._articles = articles;\r\n    }\r\n\r\n    // Méthodes\r\n    async loadArticles() {\r\n        const listArticles = await fetch(\"../data.json\").then(res => res.json());\r\n        this._articles = listArticles.map(article => new Article(article.id, article.titre, article.disponibilite, article.image, article.keyword, article.prix, article.coupons, article.priceAfterCoupons));\r\n        console.log(listArticles);\r\n    }\r\n\r\n    getData=()=>{\r\n        fetch('data.json'\r\n        ,{\r\n          headers : { \r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n           }\r\n        }\r\n        )\r\n          .then(function(response){\r\n            console.log(response)\r\n            return response.json();\r\n          })\r\n          .then(function(myJson) {\r\n            console.log(myJson);\r\n          });\r\n      }\r\n    \r\n\r\n    getArticleById(id) {\r\n        return this._articles.find(article => article.id === id);\r\n    }\r\n\r\n    getArticleByCategory(category) {\r\n        return this._articles.filter(article => article.keyword === category);\r\n    }\r\n\r\n}\r\n\r\nexport default ArticleStore;"],"mappings":"AAAA,SAASA,kBAAkB,EAAEC,WAAW,QAAQ,MAAM;AACtD,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,YAAY,CAAC;EAGf;;EAGA;EACAC,WAAWA,CAAA,EAAG;IAAA,KAwBdC,OAAO,GAAC,MAAI;MACRC,KAAK,CAAC,WAAW,EAChB;QACCC,OAAO,EAAG;UACR,cAAc,EAAE,kBAAkB;UAClC,QAAQ,EAAE;QACX;MACH,CACA,CAAC,CACEC,IAAI,CAAC,UAASC,QAAQ,EAAC;QACtBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,OAAOA,QAAQ,CAACG,IAAI,CAAC,CAAC;MACxB,CAAC,CAAC,CACDJ,IAAI,CAAC,UAASK,MAAM,EAAE;QACrBH,OAAO,CAACC,GAAG,CAACE,MAAM,CAAC;MACrB,CAAC,CAAC;IACN,CAAC;IAvCC,IAAI,CAACC,SAAS,GAAG,EAAE;IAEnBd,kBAAkB,CAAC,IAAI,CAAC;IACxB,IAAI,CAACe,YAAY,CAAC,CAAC;EACvB;;EAEA;EACA,IAAIC,QAAQA,CAAA,EAAG;IACX,OAAO,IAAI,CAACF,SAAS;EACzB;;EAEA;EACA,IAAIE,QAAQA,CAACA,QAAQ,EAAE;IACnB,IAAI,CAACF,SAAS,GAAGE,QAAQ;EAC7B;;EAEA;EACA,MAAMD,YAAYA,CAAA,EAAG;IACjB,MAAME,YAAY,GAAG,MAAMX,KAAK,CAAC,cAAc,CAAC,CAACE,IAAI,CAACU,GAAG,IAAIA,GAAG,CAACN,IAAI,CAAC,CAAC,CAAC;IACxE,IAAI,CAACE,SAAS,GAAGG,YAAY,CAACE,GAAG,CAACC,OAAO,IAAI,IAAIlB,OAAO,CAACkB,OAAO,CAACC,EAAE,EAAED,OAAO,CAACE,KAAK,EAAEF,OAAO,CAACG,aAAa,EAAEH,OAAO,CAACI,KAAK,EAAEJ,OAAO,CAACK,OAAO,EAAEL,OAAO,CAACM,IAAI,EAAEN,OAAO,CAACO,OAAO,EAAEP,OAAO,CAACQ,iBAAiB,CAAC,CAAC;IACrMlB,OAAO,CAACC,GAAG,CAACM,YAAY,CAAC;EAC7B;EAqBAY,cAAcA,CAACR,EAAE,EAAE;IACf,OAAO,IAAI,CAACP,SAAS,CAACgB,IAAI,CAACV,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKA,EAAE,CAAC;EAC5D;EAEAU,oBAAoBA,CAACC,QAAQ,EAAE;IAC3B,OAAO,IAAI,CAAClB,SAAS,CAACmB,MAAM,CAACb,OAAO,IAAIA,OAAO,CAACK,OAAO,KAAKO,QAAQ,CAAC;EACzE;AAEJ;AAEA,eAAe7B,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}