{"ast":null,"code":"import _regeneratorRuntime from\"C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{makeAutoObservable}from\"mobx\";import Article from\"./Article\";var ArticleStore=/*#__PURE__*/function(){// Attributs\n// Constructeur\nfunction ArticleStore(){_classCallCheck(this,ArticleStore);this._articles=[];makeAutoObservable(this);this.loadArticles();}// Accesseur en lecture\n_createClass(ArticleStore,[{key:\"articles\",get:function get(){return this._articles;}// Accesseur en écriture\n,set:function set(articles){this._articles=articles;}// Méthodes\n},{key:\"loadArticles\",value:function(){var _loadArticles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"../data.json\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;// Transformer les données en objets Article et les stocker dans this._articles\nthis._articles=data.map(function(article){return new Article(article.id,article.name,article.description,article.price,article.pictures,article.quantity,article.alt,article.duration,article.attendance,article.infos);});console.log(this._articles);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Erreur lors du chargement des articles :\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,this,[[0,11]]);}));function loadArticles(){return _loadArticles.apply(this,arguments);}return loadArticles;}()},{key:\"increaseQuantity\",value:function increaseQuantity(id){}},{key:\"getArticleById\",value:function getArticleById(id){return this._articles.find(function(article){return article.id===id;});}}]);return ArticleStore;}();export default ArticleStore;","map":{"version":3,"names":["makeAutoObservable","Article","ArticleStore","_classCallCheck","_articles","loadArticles","_createClass","key","get","set","articles","value","_loadArticles","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","map","article","id","name","description","price","pictures","quantity","alt","duration","attendance","infos","console","log","t0","error","stop","apply","arguments","increaseQuantity","getArticleById","find"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/store/ArticleStore.js"],"sourcesContent":["import { makeAutoObservable } from \"mobx\";\r\nimport Article from \"./Article\";\r\n\r\nclass ArticleStore {\r\n\r\n\r\n    // Attributs\r\n    _articles;\r\n\r\n    // Constructeur\r\n    constructor() {\r\n        this._articles = [];\r\n\r\n        makeAutoObservable(this);\r\n        this.loadArticles();\r\n    }\r\n\r\n    // Accesseur en lecture\r\n    get articles() {\r\n        return this._articles;\r\n    }\r\n\r\n    // Accesseur en écriture\r\n    set articles(articles) {\r\n        this._articles = articles;\r\n    }\r\n\r\n    // Méthodes\r\n\r\n    async loadArticles() {\r\n        try {\r\n            // Charger le fichier JSON\r\n            const response = await fetch(\"../data.json\");\r\n            const data = await response.json();\r\n\r\n            // Transformer les données en objets Article et les stocker dans this._articles\r\n            this._articles = data.map(article => new Article(\r\n                article.id,\r\n                article.name,\r\n                article.description,\r\n                article.price,\r\n                article.pictures,\r\n                article.quantity,\r\n                article.alt,\r\n                article.duration,\r\n                article.attendance,\r\n                article.infos,\r\n            ));\r\n\r\n            console.log(this._articles);\r\n        } catch (error) {\r\n            console.error(\"Erreur lors du chargement des articles :\", error);\r\n        }\r\n    }\r\n\r\n\r\n    increaseQuantity(id) {\r\n       \r\n    }\r\n\r\n    getArticleById(id) {\r\n        return this._articles.find(article => article.id === id);\r\n    }\r\n\r\n}\r\n\r\nexport default ArticleStore;"],"mappings":"smBAAA,OAASA,kBAAkB,KAAQ,MAAM,CACzC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,GAE1B,CAAAC,YAAY,yBAGd;AAGA;AACA,SAAAA,aAAA,CAAc,CAAAC,eAAA,MAAAD,YAAA,EACV,IAAI,CAACE,SAAS,CAAG,EAAE,CAEnBJ,kBAAkB,CAAC,IAAI,CAAC,CACxB,IAAI,CAACK,YAAY,CAAC,CAAC,CACvB,CAEA;AAAAC,YAAA,CAAAJ,YAAA,GAAAK,GAAA,YAAAC,GAAA,CACA,SAAAA,IAAA,CAAe,CACX,MAAO,KAAI,CAACJ,SAAS,CACzB,CAEA;AAAA,CAAAK,GAAA,CACA,SAAAA,IAAaC,QAAQ,CAAE,CACnB,IAAI,CAACN,SAAS,CAAGM,QAAQ,CAC7B,CAEA;AAAA,GAAAH,GAAA,gBAAAI,KAAA,gBAAAC,aAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAEA,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAG+B,CAAAC,KAAK,CAAC,cAAc,CAAC,QAAtCP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACS,IAAI,CAAC,CAAC,QAA5BR,IAAI,CAAAG,QAAA,CAAAI,IAAA,CAEV;AACA,IAAI,CAACrB,SAAS,CAAGc,IAAI,CAACS,GAAG,CAAC,SAAAC,OAAO,QAAI,IAAI,CAAA3B,OAAO,CAC5C2B,OAAO,CAACC,EAAE,CACVD,OAAO,CAACE,IAAI,CACZF,OAAO,CAACG,WAAW,CACnBH,OAAO,CAACI,KAAK,CACbJ,OAAO,CAACK,QAAQ,CAChBL,OAAO,CAACM,QAAQ,CAChBN,OAAO,CAACO,GAAG,CACXP,OAAO,CAACQ,QAAQ,CAChBR,OAAO,CAACS,UAAU,CAClBT,OAAO,CAACU,KACZ,CAAC,GAAC,CAEFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpC,SAAS,CAAC,CAACiB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAoB,EAAA,CAAApB,QAAA,aAE5BkB,OAAO,CAACG,KAAK,CAAC,0CAA0C,CAAArB,QAAA,CAAAoB,EAAO,CAAC,CAAC,yBAAApB,QAAA,CAAAsB,IAAA,MAAA3B,OAAA,iBAExE,YAAAX,aAAA,SAAAO,aAAA,CAAAgC,KAAA,MAAAC,SAAA,UAAAxC,YAAA,OAAAE,GAAA,oBAAAI,KAAA,CAGD,SAAAmC,iBAAiBjB,EAAE,CAAE,CAErB,CAAC,GAAAtB,GAAA,kBAAAI,KAAA,CAED,SAAAoC,eAAelB,EAAE,CAAE,CACf,MAAO,KAAI,CAACzB,SAAS,CAAC4C,IAAI,CAAC,SAAApB,OAAO,QAAI,CAAAA,OAAO,CAACC,EAAE,GAAKA,EAAE,GAAC,CAC5D,CAAC,WAAA3B,YAAA,KAIL,cAAe,CAAAA,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}