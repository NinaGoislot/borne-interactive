{"ast":null,"code":"var _jsxFileName = \"C:\\\\Nina\\\\Scolarite\\\\Matane\\\\ProjetMultimedia\\\\Borne\\\\PM4-TP2\\\\appreact\\\\src\\\\components\\\\QuantityButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport Button from \"./Button\";\nimport { GlobalContext } from '../App.jsx';\nimport { observer } from \"mobx-react-lite\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction QuantityButton({\n  row = true,\n  className,\n  article\n}) {\n  _s();\n  const {\n    cartStore\n  } = useContext(GlobalContext);\n  const direction = row ? \"row\" : \"col\";\n  const handleAddToCart = article => {\n    cartStore.addToCart(article);\n  };\n  const handleRemoveFromCart = article => {\n    cartStore.removeFromCart(article);\n  };\n  const addCart = article => {\n    let cart = getCart();\n    let foundArticle = cart.find(item => item.id == article.id);\n    if (foundArticle != undefined) {\n      foundArticle.quantity++;\n    } else {\n      product.quantity = 1;\n    }\n    cart.push(article);\n    saveCart(cart);\n  };\n  const removeFromCart = article => {\n    let cart = getCart();\n    cart = cart.filter(item => item.id != article.id);\n    saveCart(cart);\n  };\n  const changeQuantity = (article, quantity) => {\n    let cart = getCart();\n    let foundArticle = cart.find(item => item.id == article.id);\n    if (foundArticle != undefined) {\n      foundArticle.quantity += quantity;\n      if (foundArticle.quantity <= 0) {\n        removeFromCart(foundArticle);\n      } else {\n        saveCart(cart);\n      }\n    }\n  };\n  const saveCart = cart => {\n    localStorage.setItem(\"basket\", JSON.stringify(cart));\n  };\n  const getCart = () => {\n    let cart = localStorage.getItem(\"basket\");\n    if (cart == null) {\n      return [];\n    } else {\n      return JSON.parse(cart);\n    }\n  };\n  const getNumberArticle = () => {\n    let cart = getCart();\n    let number = 0;\n    for (let item of cart) {\n      number += item.quantity;\n    }\n    return number;\n  };\n  const getTotalPrice = () => {\n    let cart = getCart();\n    let total = 0;\n    for (let item of cart) {\n      total += item.quantity * item.price;\n    }\n    return total;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-${direction} justify-between items-center w-2/12 ${className && className}`,\n    children: [row === false ? /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Ajouter\",\n      icon: \"faPlus\",\n      onClick: () => handleAddToCart(article)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Retirer\",\n      icon: \"faMinus\",\n      onClick: () => handleRemoveFromCart(article)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 114\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-2xl p-3\",\n      children: \"En attente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), row === false ? /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Retirer\",\n      icon: \"faMinus\",\n      onClick: () => handleRemoveFromCart(article)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      title: \"Ajouter\",\n      icon: \"faPlus\",\n      onClick: () => handleAddToCart(article)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 120\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n_s(QuantityButton, \"Mt4MNDWpA/LM3ASQtEeIEbfABvU=\");\n_c = QuantityButton;\nexport default _c2 = observer(QuantityButton);\nvar _c, _c2;\n$RefreshReg$(_c, \"QuantityButton\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","Button","GlobalContext","observer","jsxDEV","_jsxDEV","QuantityButton","row","className","article","_s","cartStore","direction","handleAddToCart","addToCart","handleRemoveFromCart","removeFromCart","addCart","cart","getCart","foundArticle","find","item","id","undefined","quantity","product","push","saveCart","filter","changeQuantity","localStorage","setItem","JSON","stringify","getItem","parse","getNumberArticle","number","getTotalPrice","total","price","children","title","icon","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","_c2","$RefreshReg$"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/components/QuantityButton.jsx"],"sourcesContent":["import React, {useContext } from \"react\";\r\nimport Button from \"./Button\";\r\nimport { GlobalContext } from '../App.jsx';\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nfunction QuantityButton({ row = true, className, article }) {\r\n\r\n    const { cartStore } = useContext(GlobalContext);\r\n\r\n    const direction = row ? \"row\" : \"col\";\r\n\r\n    \r\n\r\n    const handleAddToCart = (article) => {\r\n        cartStore.addToCart(article);\r\n    };\r\n\r\n    const handleRemoveFromCart = (article) => {\r\n            cartStore.removeFromCart(article);\r\n    };\r\n\r\n    const addCart = (article) => {\r\n        let cart = getCart();\r\n        let foundArticle = cart.find (item => item.id == article.id );\r\n        if (foundArticle != undefined) {\r\n            foundArticle.quantity++;\r\n        } else {\r\n            product.quantity = 1;\r\n        }\r\n        cart.push(article);\r\n        saveCart(cart);\r\n    }\r\n\r\n    const removeFromCart = (article) => {\r\n        let cart = getCart();\r\n        cart = cart.filter(item => item.id != article.id);\r\n        saveCart(cart);\r\n    }\r\n\r\n    const changeQuantity = (article, quantity) => {\r\n        let cart = getCart();\r\n        let foundArticle = cart.find (item => item.id == article.id );\r\n        if (foundArticle != undefined) {\r\n            foundArticle.quantity+= quantity;\r\n            if (foundArticle.quantity <= 0) {\r\n                removeFromCart(foundArticle);\r\n            } else {\r\n                saveCart(cart);\r\n            }\r\n        }\r\n    }\r\n\r\n    const saveCart = (cart) =>  {\r\n        localStorage.setItem(\"basket\", JSON.stringify(cart)); \r\n    }\r\n\r\n    const getCart = () =>  {\r\n        let cart = localStorage.getItem(\"basket\");\r\n        if (cart == null) {\r\n            return [];\r\n        } else {\r\n            return JSON.parse(cart);\r\n        }\r\n    }\r\n\r\n    const getNumberArticle = () => {\r\n        let cart = getCart();\r\n        let number = 0;\r\n        for (let item of cart) {\r\n            number += item.quantity;\r\n        }\r\n        return number;\r\n    }\r\n\r\n     const getTotalPrice = () => {\r\n        let cart = getCart();\r\n        let total = 0;\r\n        for (let item of cart) {\r\n            total += item.quantity * item.price;\r\n        }\r\n        return total;\r\n    }\r\n\r\n    return (\r\n\r\n        <div className={`flex flex-${direction} justify-between items-center w-2/12 ${className && className}`}>\r\n            {row === false ? <Button title=\"Ajouter\" icon=\"faPlus\" onClick={() => handleAddToCart(article)} /> : <Button title=\"Retirer\" icon=\"faMinus\" onClick={() => handleRemoveFromCart(article)} />}\r\n            <p className=\"text-2xl p-3\">En attente</p>\r\n            {row === false ? <Button title=\"Retirer\" icon=\"faMinus\" onClick={() => handleRemoveFromCart(article)} /> : <Button title=\"Ajouter\" icon=\"faPlus\" onClick={() => handleAddToCart(article)} />}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default observer(QuantityButton);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}