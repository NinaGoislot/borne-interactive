{"ast":null,"code":"import React, { createContext, useReducer, useContext, useEffect } from 'react';\nimport { makeAutoObservable } from \"mobx\";\nclass CartStore {\n  // Tableau pour stocker les articles du panier\n\n  constructor() {\n    this.cart = [];\n    makeAutoObservable(this);\n  }\n  addToCart(article) {\n    if (this.existInCart(article.id)) {\n      // Si l'article existe déjà dans le panier, on augmente sa quantité\n      existingCartItem.quantity += 1;\n    } else {\n      // Sinon on l'ajoute avec une quantité de 1\n      this.cart.push({\n        ...article,\n        quantity: 1\n      });\n    }\n  }\n  removeFromCart(article) {\n    if (this.existInCart(article.id)) {\n      // Si l'article existe déjà dans le panier, on augmente sa quantité\n      existingCartItem.quantity -= 1;\n      const index = this.cart.findIndex(item => item.id === articleId);\n      this.cart.splice(index, 1);\n    }\n  }\n  existInCart(articleId) {\n    // Vérifiez si l'article est déjà dans le panier\n    if (this.cart.find(item => item.id === articleId)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  getQuantity(productId) {\n    // Votre logique pour obtenir la quantité d'un produit dans le panier\n    // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\n    return this.cart.reduce((count, item) => {\n      if (item.productId === productId) {\n        return count + 1;\n      }\n      return count;\n    }, 0);\n  }\n\n  // D'autres méthodes ou propriétés du panier si nécessaire\n}\n\nconst cartStore = new CartStore();\nexport default cartStore;","map":{"version":3,"names":["React","createContext","useReducer","useContext","useEffect","makeAutoObservable","CartStore","constructor","cart","addToCart","article","existInCart","id","existingCartItem","quantity","push","removeFromCart","index","findIndex","item","articleId","splice","find","getQuantity","productId","reduce","count","cartStore"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/store/CartStore.js"],"sourcesContent":["import React, { createContext, useReducer, useContext, useEffect } from 'react';\r\nimport { makeAutoObservable } from \"mobx\";\r\n\r\nclass CartStore {\r\n  cart = []; // Tableau pour stocker les articles du panier\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  addToCart(article) {\r\n     \r\n   if (this.existInCart(article.id)) {\r\n        // Si l'article existe déjà dans le panier, on augmente sa quantité\r\n        existingCartItem.quantity += 1;\r\n      } else {\r\n        // Sinon on l'ajoute avec une quantité de 1\r\n        this.cart.push({ ...article, quantity: 1 });\r\n      }\r\n  }\r\n\r\n  \r\n  removeFromCart(article) {\r\n\r\n    if (this.existInCart(article.id)) {\r\n        // Si l'article existe déjà dans le panier, on augmente sa quantité\r\n        existingCartItem.quantity -= 1;\r\n        const index = this.cart.findIndex((item) => item.id === articleId);\r\n        this.cart.splice(index, 1);\r\n      }\r\n  }\r\n\r\n  existInCart(articleId) {\r\n     // Vérifiez si l'article est déjà dans le panier\r\n    if (this.cart.find((item) => item.id === articleId)) {\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\n  getQuantity(productId) {\r\n    // Votre logique pour obtenir la quantité d'un produit dans le panier\r\n    // Par exemple, vous pouvez utiliser reduce pour compter les occurrences\r\n    return this.cart.reduce((count, item) => {\r\n      if (item.productId === productId) {\r\n        return count + 1;\r\n      }\r\n      return count;\r\n    }, 0);\r\n  }\r\n\r\n  // D'autres méthodes ou propriétés du panier si nécessaire\r\n}\r\n\r\nconst cartStore = new CartStore();\r\n\r\nexport default cartStore;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC/E,SAASC,kBAAkB,QAAQ,MAAM;AAEzC,MAAMC,SAAS,CAAC;EACH;;EAEXC,WAAWA,CAAA,EAAG;IAAA,KAFdC,IAAI,GAAG,EAAE;IAGPH,kBAAkB,CAAC,IAAI,CAAC;EAC1B;EAEAI,SAASA,CAACC,OAAO,EAAE;IAElB,IAAI,IAAI,CAACC,WAAW,CAACD,OAAO,CAACE,EAAE,CAAC,EAAE;MAC7B;MACAC,gBAAgB,CAACC,QAAQ,IAAI,CAAC;IAChC,CAAC,MAAM;MACL;MACA,IAAI,CAACN,IAAI,CAACO,IAAI,CAAC;QAAE,GAAGL,OAAO;QAAEI,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC7C;EACJ;EAGAE,cAAcA,CAACN,OAAO,EAAE;IAEtB,IAAI,IAAI,CAACC,WAAW,CAACD,OAAO,CAACE,EAAE,CAAC,EAAE;MAC9B;MACAC,gBAAgB,CAACC,QAAQ,IAAI,CAAC;MAC9B,MAAMG,KAAK,GAAG,IAAI,CAACT,IAAI,CAACU,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKQ,SAAS,CAAC;MAClE,IAAI,CAACZ,IAAI,CAACa,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;IAC5B;EACJ;EAEAN,WAAWA,CAACS,SAAS,EAAE;IACpB;IACD,IAAI,IAAI,CAACZ,IAAI,CAACc,IAAI,CAAEH,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKQ,SAAS,CAAC,EAAE;MACjD,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ;EAEEG,WAAWA,CAACC,SAAS,EAAE;IACrB;IACA;IACA,OAAO,IAAI,CAAChB,IAAI,CAACiB,MAAM,CAAC,CAACC,KAAK,EAAEP,IAAI,KAAK;MACvC,IAAIA,IAAI,CAACK,SAAS,KAAKA,SAAS,EAAE;QAChC,OAAOE,KAAK,GAAG,CAAC;MAClB;MACA,OAAOA,KAAK;IACd,CAAC,EAAE,CAAC,CAAC;EACP;;EAEA;AACF;;AAEA,MAAMC,SAAS,GAAG,IAAIrB,SAAS,CAAC,CAAC;AAEjC,eAAeqB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}