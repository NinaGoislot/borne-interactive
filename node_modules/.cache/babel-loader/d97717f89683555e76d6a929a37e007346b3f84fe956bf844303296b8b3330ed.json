{"ast":null,"code":"import _slicedToArray from\"C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useLocation}from'react-router-dom';import{GlobalContext}from'./App.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PaiementStatus(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var _useContext=useContext(GlobalContext),cartStore=_useContext.cartStore;var location=useLocation();var propsFromPreviousPage=location.state;var paymentSuccess=propsFromPreviousPage.success?propsFromPreviousPage.success:true;var textSuccess=propsFromPreviousPage.textSuccess;var textRefused=propsFromPreviousPage.textRefused;var discountValue=propsFromPreviousPage.discount;useEffect(function(){// Délai de 3 secondes avant de déclencher la redirection\nvar timer=setTimeout(function(){setRedirect(true);},3000);return function(){return clearTimeout(timer);};},[]);if(redirect){navigate('./GetTicket',{state:{payment:false}});}var bgColor=paymentSuccess===true?'bg-valid-color':'bg-error-color';return/*#__PURE__*/_jsx(\"main\",{className:\"paiement-section justify-center items-center sm:h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center sm:h-2/3 lg:w-2/5 \".concat(bgColor,\" lg:h-2/5 gap-y-12\"),children:[paymentSuccess?/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-check\",className:\"paiement-icon text-light-color\"}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"fa-solid fa-xmark\",className:\"paiement-icon text-light-color\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"italic text-5xl text-center\",children:paymentSuccess?textSuccess:textRefused})]})});}export default PaiementStatus;","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","FontAwesomeIcon","useLocation","GlobalContext","jsx","_jsx","jsxs","_jsxs","PaiementStatus","navigate","_useState","_useState2","_slicedToArray","redirect","setRedirect","_useContext","cartStore","location","propsFromPreviousPage","state","paymentSuccess","success","textSuccess","textRefused","discountValue","discount","timer","setTimeout","clearTimeout","payment","bgColor","className","children","concat","icon"],"sources":["C:/Nina/Scolarite/Matane/ProjetMultimedia/Borne/PM4-TP2/appreact/src/pages/PaiementStatus.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { GlobalContext } from './App.jsx';\r\n\r\nfunction PaiementStatus() {\r\n\r\n    const navigate = useNavigate();\r\n    const [redirect, setRedirect] = useState(false);\r\n    const { cartStore } = useContext(GlobalContext);\r\n    \r\n    const location = useLocation();\r\n    const propsFromPreviousPage = location.state;\r\n  \r\n    const paymentSuccess = propsFromPreviousPage.success ? propsFromPreviousPage.success : true;\r\n    const textSuccess = propsFromPreviousPage.textSuccess;\r\n    const textRefused = propsFromPreviousPage.textRefused;\r\n    const discountValue = propsFromPreviousPage.discount;\r\n\r\n\r\n    useEffect(() => {\r\n        // Délai de 3 secondes avant de déclencher la redirection\r\n        const timer = setTimeout(() => {\r\n            setRedirect(true);\r\n        }, 3000);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, []);\r\n\r\n    if (redirect) {\r\n        navigate('./GetTicket', {\r\n            state: {\r\n                payment: false,\r\n            }\r\n        });\r\n    }\r\n\r\n    const bgColor = paymentSuccess === true ? 'bg-valid-color' : 'bg-error-color';\r\n\r\n    return (\r\n        <main className='paiement-section justify-center items-center sm:h-screen'>\r\n            <div className={`flex flex-col justify-center items-center sm:h-2/3 lg:w-2/5 ${bgColor} lg:h-2/5 gap-y-12`}>\r\n                {paymentSuccess ? <FontAwesomeIcon icon=\"fa-solid fa-check\" className='paiement-icon text-light-color' /> : <FontAwesomeIcon icon=\"fa-solid fa-xmark\" className='paiement-icon text-light-color' />}\r\n                <h2 className='italic text-5xl text-center'>{paymentSuccess ? textSuccess : textRefused}</h2>\r\n            </div>\r\n        </main> \r\n    )\r\n}\r\nexport default PaiementStatus;"],"mappings":"sJAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,aAAa,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,cAAcA,CAAA,CAAG,CAEtB,GAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,IAAAU,SAAA,CAAgCX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,WAAA,CAAsBlB,UAAU,CAACM,aAAa,CAAC,CAAvCa,SAAS,CAAAD,WAAA,CAATC,SAAS,CAEjB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAgB,qBAAqB,CAAGD,QAAQ,CAACE,KAAK,CAE5C,GAAM,CAAAC,cAAc,CAAGF,qBAAqB,CAACG,OAAO,CAAGH,qBAAqB,CAACG,OAAO,CAAG,IAAI,CAC3F,GAAM,CAAAC,WAAW,CAAGJ,qBAAqB,CAACI,WAAW,CACrD,GAAM,CAAAC,WAAW,CAAGL,qBAAqB,CAACK,WAAW,CACrD,GAAM,CAAAC,aAAa,CAAGN,qBAAqB,CAACO,QAAQ,CAGpD3B,SAAS,CAAC,UAAM,CACZ;AACA,GAAM,CAAA4B,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC3Bb,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,kBAAM,CAAAc,YAAY,CAACF,KAAK,CAAC,GACpC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIb,QAAQ,CAAE,CACVJ,QAAQ,CAAC,aAAa,CAAE,CACpBU,KAAK,CAAE,CACHU,OAAO,CAAE,KACb,CACJ,CAAC,CAAC,CACN,CAEA,GAAM,CAAAC,OAAO,CAAGV,cAAc,GAAK,IAAI,CAAG,gBAAgB,CAAG,gBAAgB,CAE7E,mBACIf,IAAA,SAAM0B,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACtEzB,KAAA,QAAKwB,SAAS,gEAAAE,MAAA,CAAiEH,OAAO,sBAAqB,CAAAE,QAAA,EACtGZ,cAAc,cAAGf,IAAA,CAACJ,eAAe,EAACiC,IAAI,CAAC,mBAAmB,CAACH,SAAS,CAAC,gCAAgC,CAAE,CAAC,cAAG1B,IAAA,CAACJ,eAAe,EAACiC,IAAI,CAAC,mBAAmB,CAACH,SAAS,CAAC,gCAAgC,CAAE,CAAC,cACnM1B,IAAA,OAAI0B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAEZ,cAAc,CAAGE,WAAW,CAAGC,WAAW,CAAK,CAAC,EAC5F,CAAC,CACJ,CAAC,CAEf,CACA,cAAe,CAAAf,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}